(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(24)},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(11),o=n.n(l),c=n(7),s=n.n(c),i=n(1),u=n(12),d=n(9),p=n(2),m=n(3),h=n(5),f=n(4),b=n(6),P=n(13),E=n.n(P),w=function(){var e=Object(d.a)(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();w.propTypes={url:E.a.string};var y=w,C=function(e){var t=e.person,n=e.selectFunction,a=e.selectedPeople;return r.a.createElement("tr",{key:t.id,className:function(){var e="";return e+="m"===t.sex?"person--male":"person--female",e+=t.age>65?" older65":"",e+=" person--lived-in-".concat(t.century),t.children[0]&&(e+="m"===t.sex?" person--father":" person--mother"),a.includes(t.id)&&(e+=" selectedRow"),e}(),onClick:function(){return e=t.id,void n(e);var e}},r.a.createElement("td",null,t.id,"."),r.a.createElement("td",{className:t.born<1650?"before1650":t.died>1800?"after1800":""},t.name),r.a.createElement("td",null,"m"===t.sex?"Male":"Female"),r.a.createElement("td",null,t.born>=0?t.born:"".concat(-1*t.born," BC")),r.a.createElement("td",null,t.died>=0?t.died:"".concat(-1*t.died," BC")),r.a.createElement("td",null,t.age),r.a.createElement("td",null,t.century,"-th"),r.a.createElement("td",null,t.mother),r.a.createElement("td",null,t.father),r.a.createElement("td",null,t.children[0]?t.children.map(function(e){return e.name}).join(", "):null))},g=n(8),v=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleFormFieldChange=function(e){var t=e.target,a=t.name,r=t.value;switch(a){case"newPersonBorn":case"newPersonDied":r=r.replace(/^\d-/g,"");break;case"newPersonSex":r=r.replace(/^[^mf]/,"");break;case"newPersonChildren":r=r.replace(/[^\w\u0410-\u042f\u0430-\u044f\u0401\u0451 ,.-]/g,"");break;default:r=r.replace(/[^\w\u0410-\u042f\u0430-\u044f\u0401\u0451 .-]/g,"")}n.setState(Object(g.a)({},a,r))},n.state={newPersonName:"",newPersonSex:"",newPersonBorn:null,newPersonDied:null,newPersonFatherName:"",newPersonMotherName:"",newPersonChildren:""},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"New Person Add Form"),r.a.createElement("div",null,r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",placeholder:"New person's name",name:"newPersonName",value:this.state.newPersonName,onChange:this.handleFormFieldChange,required:!0})),r.a.createElement("label",null,"Gender: "),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"m",name:"newPersonSex",onChange:this.handleFormFieldChange,required:!0}),"-Male"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"f",name:"newPersonSex",onChange:this.handleFormFieldChange,required:!0}),"-Female")),r.a.createElement("div",null,r.a.createElement("label",null,"Year of born:",r.a.createElement("input",{type:"number",value:this.newPersonBorn,name:"newPersonBorn",onChange:this.handleFormFieldChange,required:!0})),r.a.createElement("label",null,"Year of death:",r.a.createElement("input",{type:"number",value:this.newPersonDied,name:"newPersonDied",onChange:this.handleFormFieldChange}))),r.a.createElement("div",null,r.a.createElement("label",null,"Father:",r.a.createElement("input",{type:"text",placeholder:"Person's father's name",value:this.newPersonFatherName,name:"newPersonFatherName",onChange:this.handleFormFieldChange})),r.a.createElement("label",null,"Mother:",r.a.createElement("input",{type:"text",placeholder:"Person's mother's name",value:this.newPersonMotherName,name:"newPersonMotherName",onChange:this.handleFormFieldChange})),r.a.createElement("label",null,"Children:",r.a.createElement("input",{type:"text",placeholder:"Coma separated nmes",value:this.newPersonChildren,name:"newPersonChildren",onChange:this.handleFormFieldChange}))),r.a.createElement("button",{onClick:function(t){return t.preventDefault(),e.props.addPersonHandler(e.state.newPersonName,e.state.newPersonSex,+e.state.newPersonBorn,+e.state.newPersonDied,e.state.newPersonFatherName,e.state.newPersonMotherName,e.state.newPersonChildren)}},"Submit")))}}]),t}(r.a.Component),F=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).addPersonFromProps=function(){n.state.people.length<n.props.peopleArray.length&&n.setState(function(e){return{people:[].concat(Object(i.a)(e.people),[n.props.peopleArray[e.people.length]]),filteredPeople:[].concat(Object(i.a)(e.filteredPeople),[n.props.peopleArray[e.people.length]])}})},n.handleFilterNFM=function(e){var t=e.target.value;n.setState(function(e){return{inputValue:t,filteredPeople:e.people.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.father&&e.father.toLowerCase().includes(t.toLowerCase())||e.mother&&e.mother.toLowerCase().includes(t.toLowerCase())})}})},n.handleSort=function(e){var t=[];if(n.state.sortByField===e)t=Object(i.a)(n.state.filteredPeople).reverse();else switch(typeof n.state.filteredPeople[0][e]){case"string":t=Object(i.a)(n.state.filteredPeople).sort(function(t,n){return t[e].localeCompare(n[e])});break;case"number":case"boolean":t=Object(i.a)(n.state.filteredPeople).sort(function(t,n){return t[e]-n[e]});break;default:t=Object(i.a)(n.state.filteredPeople)}n.setState({filteredPeople:Object(i.a)(t),sortByField:e})},n.handleSelect2=function(e){var t=n.state.selectedPersonsIds.findIndex(function(t){return t===e}),a=Object(i.a)(n.state.selectedPersonsIds);t>=0?a.splice(t,1):a.push(e),n.setState({selectedPersonsIds:Object(i.a)(a)})},n.state={people:Object(i.a)(n.props.peopleArray),filteredPeople:Object(i.a)(n.props.peopleArray),inputValue:"",sortByField:"id",selectedPersonsIds:[]},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.addPersonFromProps(),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"People table of ",this.state.filteredPeople.length," persons"),r.a.createElement(v,{addPersonHandler:this.props.addPersonHandler}),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Search by Name and Parents",value:this.state.inputValue,onChange:this.handleFilterNFM})),r.a.createElement("table",{className:"PeopleTable",style:{borderCollapse:"collapse"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("id")}},"\xa0ID\xa0"),r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("name")}},"\xa0Name\xa0"),r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("sex")}},"\xa0Gender\xa0"),r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("born")}},"\xa0Born\xa0"),r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("died")}},"\xa0Died\xa0"),r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("age")}},"\xa0Age\xa0"),r.a.createElement("th",{className:"clickable",onClick:function(){return e.handleSort("century")}},"\xa0Century\xa0"),r.a.createElement("th",null,"\xa0Mother\xa0"),r.a.createElement("th",null,"\xa0Father\xa0"),r.a.createElement("th",null,"\xa0Children\xa0"))),r.a.createElement("tbody",null,this.state.filteredPeople.map(function(t){return r.a.createElement(C,{person:t,selectFunction:e.handleSelect2,selectedPeople:e.state.selectedPersonsIds})}))))}}]),t}(r.a.Component),N=(n(23),function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).componentDidMount=Object(d.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("https://mate-academy.github.io/react_people-table/api/people.json");case 2:n=t.sent,a=n.map(function(e,t,n){return Object(u.a)({id:t+1,age:e.died-e.born,century:Math.ceil(e.died/100),children:n.map(function(t){return e.name===t.father||e.name===t.mother?t:""}).filter(function(e){return""!==e}),selected:!1},e)}),e.setState(function(){return{people:Object(i.a)(a),isLoaded:!0}});case 5:case"end":return t.stop()}},t)})),e.handleNewPersonAdd=function(t,n,a,r,l,o,c){var s,u,d,p="",m="",h=null,f=null,b=[],P=(new Date).getFullYear();function E(e){return e.split(" ").map(function(e){return e.trim().toLowerCase()}).filter(function(e){return""!==e}).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")}if(p+="string"!==typeof t?"Incorrect Name Type":"",p+="string"!==typeof n?"Incorrect Gender Type":"",p+="number"!==typeof a?"Incorrect Born Type":"",p+="number"!==typeof r?"Incorrect Died Type":"",p+="string"!==typeof l?"Incorrect Father Name Type":"",p+="string"!==typeof o?"Incorrect Mother Name Type":"",p+="string"!==typeof c?"Incorrect Cildren Names Type":"",s=E(t),u=E(l),d=E(o),c&&(b=c.split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e}).map(function(e){return{name:E(e)}})),a>P?p+="Incorrect Year of Person's born":h=a,0!==r&&r<=P&&r>=a&&r-a<=150?f=r:0===r&&r-a<=150&&r-a>=0?f=0:0===r&&P-a<=150?f=void 0:p+="Incorrect Year of Person's death","m"===n[0]||"f"===n[0]?m=n[0]:p+="Incorrect Gender only 'Male' or 'Female' expected",p)alert(p);else{if(e.state.people.find(function(e){return e.name===s}))if(!prompt("Person Name ".concat(s,",\n        you have entered, is already present! Continue?"),"Yes"))return;e.setState(function(e){return{people:[].concat(Object(i.a)(e.people),[{id:e.people.length+1,name:s,sex:m,born:h,died:void 0!==f?f:null,age:void 0!==f?f-h:P-h,century:void 0!==f?Math.ceil(f/100):21,father:u,mother:d,children:b}])}})}},e.state={people:[],isLoaded:!1},e}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.isLoaded?r.a.createElement(F,{peopleArray:this.state.people,addPersonHandler:this.handleNewPersonAdd}):r.a.createElement("h1",null,"Still Loading..."))}}]),t}(r.a.Component));o.a.render(r.a.createElement(N,{test:123}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a0c1a3cc.chunk.js.map